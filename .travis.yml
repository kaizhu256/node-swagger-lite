before_install:
    # init xvfb
    # http://docs.travis-ci.com/user/gui-and-headless-browsers/
    - "export DISPLAY=:99.0 && sh -e /etc/init.d/xvfb start"
    # install mongodb 3.0
    # https://github.com/mongodb/mongo-ruby-driver/blob/master/.travis.yml
    - curl http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.0.5.tgz | tar xvz -C /tmp && mkdir -p /tmp/data && /tmp/mongodb-linux-x86_64-3.0.5/bin/mongod --dbpath /tmp/data &> /dev/null &
branches:
    only:
    - alpha
    - beta
    - master
env:
    global:
    # this value is auto-generated by shAesEncryptTravis
    - secure: piU1YU5EaUgmVyVTSoI5BMZbs2a/+GwVmKhutLmTRA+P+7VqSWW9rLLFkB5BdX4T5U9DeSZad+0+V3KPjtnz1ZNH6rOiukLzvewrPyfMHGnoy7VhVWWogIVUnMXj7uQLu5xzDReliXUpf/b6NBfSDKebkdCOmubbklWhhPZGCAKWjfJr8msPaaTLV8UoCj1x/Z3n/qLj9R1AqE0L1o0GhHdb2r9F91prHrfxF2X4kRbxSYfh3wAIKj+4tbNnJB2VR7DVPVP49splP2ijDrBR74qNJxx1dsC3UFejht7ZMlYJ+JX+kne3xTHm3pjZVnS+H2EPxhaFhrmOeY+dGedL7QrjVWSohl+mJcqpwRti05AYOnxoztrvJ/o/6t1NQRAAR8iZTq7emMLU5FXrQRhmTYvYqfgvobu79QYCDZbb04G5tycem1oob2utDDDAdnshCpmu2hQYZiV1TvYrqMWdO6ntxQrJn9yUWvWMdjpd94Q3t2j24iNqCwHBntwL+rDciofu0MeGNv8WKQPzVa/odQFYr+T8Bb6aTJN7NLJtE9znqZ67UZrHhdtDMV8JoHqX55dsLzA9APU7jDGzh/wZxOgvC2N1KKkWjys5PDvcAN3Q6PWbDz3lc1jPc7wxCNo3V6StdBgnjWq7OII39KKjWNcSXoFs9UZpgdt2YBpDVws= # AES_256_KEY
    # this value is auto-generated by shAesEncryptTravis
    # - AES_ENCRYPTED_SH: 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 # AES_ENCRYPTED_SH
language:
    - node_js
node_js:
    - "0.10"
    - "0.12"
script:
    - npm_config_unsafe_perm=1 npm run-script build-ci
# http://docs.travis-ci.com/user/workers/container-based-infrastructure
sudo:
    false
